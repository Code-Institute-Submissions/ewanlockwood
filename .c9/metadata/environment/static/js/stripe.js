{"changed":true,"filter":false,"title":"stripe.js","tooltip":"/static/js/stripe.js","value":"$(function() {\n    $(\"#payment-form\").submit(function() {\n        var form = this;\n        var card = {\n            number: $(\"#id_credit_card_number\").val(),\n            expMonth: $(\"#id_expiry_month\").val(),\n            expYear: $(\"#id_expiry_year\").val(),\n            cvc: $(\"#id_cvv\").val()\n        };\n    \n    Stripe.createToken(card, function(status, response) {\n        if (status === 200) {\n            $(\"#credit-card-errors\").hide();\n            $(\"#id_stripe_id\").val(response.id);\n\n            // Prevent the credit card details from being submitted\n            // to our server\n            $(\"#id_credit_card_number\").removeAttr('name');\n            $(\"#id_cvv\").removeAttr('name');\n            $(\"#id_expiry_month\").removeAttr('name');\n            $(\"#id_expiry_year\").removeAttr('name');\n\n            form.submit();\n        } else {\n            $(\"#stripe-error-message\").text(response.error.message);\n            $(\"#credit-card-errors\").show();\n            $(\"#validate_card_btn\").attr(\"disabled\", false);\n        }\n    });\n    return false;\n    });\n});","undoManager":{"mark":0,"position":-1,"stack":[[{"start":{"row":26,"column":24},"end":{"row":26,"column":25},"action":"insert","lines":["@"],"id":2}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":31,"column":3},"end":{"row":31,"column":3},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":2,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1584631675039}